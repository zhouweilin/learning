<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>mlib-test</title>
    <style>
        *{padding:0;margin:0;}
        div{text-align:center;font-size:50px;}
        .content{height:500px;}
        div[pagescroll=true]{height:600px;border-top:1px solid #ccc; position:relative;}
        .anim{width:200px;height:300px;border:1px solid blue;position:absolute;left:50%;
            margin-left:-100px;}
    </style>
</head>
<body> 

    
    <div class="ps-wrap">

        <div class="content">500</div>
        
        <div pagescroll="true">
            <span>500</span>
            <p class="anim"></p>
        </div>
        
        <div pagescroll="true">
            <span>1100</span>
            <p class="anim"></p>
        </div>
        
        <div pagescroll="true">
            <span>1700</span>
            <p class="anim"></p>
        </div>
        
        <div pagescroll="true">
            <span>2300</span>
            <p class="anim"></p>
        </div>
        
        <div pagescroll="true">
            <span>2900</span>
            <p class="anim"></p>
        </div>
        
        <div pagescroll="true">
            <span>3500</span>
            <p class="anim"></p>
        </div>
        
    </div>

    <script type="text/javascript" src="./js/jquery-1.12.js"></script>
    <script type="text/javascript" src="./js/mlib.js"></script>
    <script>
    

       (function(win){
          
           var _pageScroll = function(wrapper, params){
                this.init(wrapper, params);

           }, 
           _win = $(win),
           _proto = _pageScroll.prototype;
           
           _proto.init = function(wrapper, params){
                this._wrap = $(wrapper);
                this._blocks = $(wrapper).find('div[pagescroll=true]');
                this._params = params;
                this.onscroll();
                this.onload();
           };
           
           _proto.scroll = function(cback){
                var _this = this;
                _win.on('scroll', function(e){
                        cback.call(_this, e);
                });
           };
           
           _proto.load = function(cback){
                var _this = this;
                _win.on('load', function(e){
                    cback.call(_this, e); 
                });
            };
             
            _proto.onscroll = function(){
                this.scroll(function(e){
                
                });
            }; 
           
            _proto.onload = function(){
                this.load(function(e){
                    // console.log(this._params.name);
                   
                });
            };
            
            window.pageScroll = _pageScroll;
       })(window);

       $(function(){

          new pageScroll('.ps-wrap');
         
         
       });
       
    </script>
</body>
</html>